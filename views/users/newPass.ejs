
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="Untree.co">
  <link rel="shortcut icon" href="favicon.png">

  <meta name="description" content="" />
  <meta name="keywords" content="bootstrap, bootstrap4" />

		<!-- Bootstrap CSS -->
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
		<link href="css/tiny-slider.css" rel="stylesheet">
		<link href="css/style.css" rel="stylesheet">
    <link href="css/log.css" rel="stylesheet">

		<title>Apollo Furniture </title>
	</head>

	<body>

		<!-- Start Header/Navigation -->
		<nav class="custom-navbar navbar navbar navbar-expand-md navbar-dark bg-dark" arial-label="Furni navigation bar">

			<div class="container">
				<a class="navbar-brand" href="/">Apollo Furniture<span>.</span></a>

				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsFurni" aria-controls="navbarsFurni" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="navbarsFurni">
					<ul class="custom-navbar-nav navbar-nav ms-auto mb-2 mb-md-0">
						<li class="nav-item active">
							<a class="nav-link" href="/home">Home</a>
						</li>
						<li><a class="nav-link" href="/shop">Shop</a></li>
						<li><a class="nav-link" href="/about">About us</a></li>
						<li><a class="nav-link" href="/services">Services</a></li>
						<li><a class="nav-link" href="/blog">Blog</a></li>
						<li><a class="nav-link" href="/contact">Contact us</a></li>
					</ul>

					<ul class="custom-navbar-cta navbar-nav mb-2 mb-md-0 ms-5">
						<li><a class="nav-link" href="/login"><img src="images/user.svg"></a></li>
						<li><a class="nav-link" href="/cart"><img src="images/cart.svg"></a></li>
					</ul>
				</div>
			</div>
				
		</nav>
		<!-- End Header/Navigation -->

    <div id="loginwrnmsg">
      <%
      if(typeof message !== 'undefined'){
          %>
          <p style="color:rgb(125, 6, 2)"><%=message%></p>
          <%
      }
      %>

<div class="login" id="forgot">
  
  <form class="login-form" action="/forgotpass" method="post" onsubmit="return validateForm(event)">
   <!-- <span class="fw-normal text-dark" id="headfgt">Trouble with logging in?</span>
    <br>
    <span class="fw-light text-body" id="head2fgt">Enter your email address and we'll send you a OTP to get back into your account.</span> -->
    <span class="fw-normal text-dark fs-5">New Password</span>
    <div class="input-group input-group-lg">
       <input type="password" class="form-control" id="password" placeholder="Enter New Password" name="password" tabindex="1"/>
    </div>
    <div class="input-group input-group-lg">
        <input type="password" class="form-control" id="password" placeholder="Confirm Password" name="confirm password" tabindex="1"/>
    </div>
    <span id="passwordError" class="error"></span>
    <input type="submit" id="login" class="btn btn-primary fa-md" value="Update Password" tabindex="3"/> 
    <div class="login-bar"> 
      
  </form>
  
  <!--<div class="social">
    <div class="social-inner">
      <a class="fa fa-2x fa-google btn btn-danger"></a>
      <a class="fa fa-2x fa-twitter btn btn-info"></a>
      <a class="fa fa-2x fa-facebook btn btn-primary"></a>
    </div>
  </div>-->
  </div>
</div>


<script>

function validateForm(event){
    event.preventDefault();
   
   let password=document.getElementById('password').value.trim()
   let cpassword=document.getElementById('confirm password').value.trim()

   
   document.getElementById("passwordError").innerText = "";

   var isValid = true;

   var passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
            if (!passwordRegex.test(password)) {
                document.getElementById("passwordError").innerText = "Password must be at least 8 characters long and include at least one lowercase letter, one uppercase letter, one digit, and one special character (@ $ ! % * ? &)";
                isValid = false;
            }


            if (!isValid) {
                return false;
            }
            if(password!==cpassword){
                document.getElementById("passwordError").innerText = "Password must be the same!";
                isValid = false;
            }

            event.target.submit();

}

</script>


<%- include('../partials/footer') -%>